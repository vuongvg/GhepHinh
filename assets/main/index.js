System.register("chunks:///_virtual/BaseUI.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts","./Store.ts"],(function(t){var e,n,o,r,s,c,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,o=t._decorator,r=t.Component},function(t){s=t.eventTarget,c=t.HIDE_ALL},function(t){i=t.default}],execute:function(){var a;n._RF.push({},"b023fFOdzZKcr1hLrtFazbS","BaseUI",void 0);var u=o.ccclass;o.property,t("BaseUI",u("BaseUI")(a=function(t){function n(){for(var e,n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))||this)._store=void 0,e}e(n,t);var o=n.prototype;return o.start=function(){this._store=i.getInstance(),s.on(c,this.hide,this)},o.show=function(){this.node.active=!0},o.hide=function(){this.node.active=!1},n}(r))||a);n._RF.pop()}}}));

System.register("chunks:///_virtual/BoardManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts","./Cell.ts","./Store.ts"],(function(e){var t,r,i,n,o,s,l,a,u,c,h,f,d,b,m,p,g,C,v,_,k,B,M,z,y,E,S,O,w,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){s=e.cclegacy,l=e._decorator,a=e.Prefab,u=e.SpriteFrame,c=e.Vec3,h=e.Camera,f=e.BlockInputEvents,d=e.v3,b=e.instantiate,m=e.Component,p=e.tween,g=e.randomRangeInt},function(e){C=e.eventTarget,v=e.MOVE_CELLS,_=e.CHECK_MERGE,k=e.RESET_GAME,B=e.CLEAR_BOARD,M=e.SOLVE,z=e.PLAY_ONE_CLICK_SOUND,y=e.ON_WIN,E=e.GAME_PLAY_SCREEN,S=e.PLAY_SHUFFLE_SOUND,O=e.SHOW_NEXT_LEVEL},function(e){w=e.Cell},function(e){I=e.default}],execute:function(){var L,N,P,T,A,x,R,D,F,H,K,V,W,q,G,U,Y,j,X,J,Q,Z,$,ee,te,re,ie,ne,oe,se,le,ae,ue;s._RF.push({},"a65d7C3EOlK25sr43KDx1Hn","BoardManager",void 0);var ce=l.ccclass,he=l.property;e("BoardManager",(L=ce("BoardManager"),N=he(a),P=he(u),T=he([c]),A=he([c]),x=he([c]),R=he([c]),D=he([u]),F=he([u]),H=he([u]),K=he([u]),V=he(h),W=he(u),q=he(f),L((Y=t((U=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"isTest",Y,n(t)),i(t,"cellSize",j,n(t)),i(t,"numberCell",X,n(t)),i(t,"cellPrefab",J,n(t)),i(t,"avatar",Q,n(t)),i(t,"offsetMasks",Z,n(t)),i(t,"offsetBorders",$,n(t)),i(t,"offsetOddMasks",ee,n(t)),i(t,"offsetOddBorder",te,n(t)),i(t,"masks",re,n(t)),i(t,"borders",ie,n(t)),i(t,"oddMasks",ne,n(t)),i(t,"oddBorders",oe,n(t)),i(t,"tolerance",se,n(t)),i(t,"camera",le,n(t)),i(t,"squareImg",ae,n(t)),i(t,"blockInput",ue,n(t)),t._board=[],t._currentBoardPos=[],t._currentNumberCell=4,t._count=0,t._indexNeighborArr=[[-1,0],[1,0],[0,-1],[0,1]],t._mergeCells=[],t._store=void 0,t}r(t,e);var s=t.prototype;return s.start=function(){this._store=I.getInstance(),C.on(v,this.moveCells,this),C.on(_,this.checkMergeCells,this),C.on(k,this.reset,this),C.on(B,this.clearBoard,this),C.on(M,this.solve,this)},s.moveCells=function(e,t){this._mergeCells.forEach((function(r){r.find((function(t){return t===e}))&&r.forEach((function(e){return e.move(t)}))}))},s.checkMergeCells=function(e){for(var t,r=o(this._mergeCells);!(t=r()).done;){var i=t.value;if(i.find((function(t){return t==e})))for(var n=0;n<i.length;n++){var s=i[n];if(this.checkMerge(s,i)){this.checkMergeCells(e);break}}}},s.checkMerge=function(e,t){for(var r,i=o(this._indexNeighborArr);!(r=i()).done;){var n=r.value,s=n[0],l=n[1],a=this.getCellNeighbor(e,s,l,t);if(a){var u=e.node.position,c=a.node.position,h=u.clone().subtract(c),f=h.x>=this.cellSize*s-this.tolerance&&h.x<=this.cellSize*s+this.tolerance&&h.y>=this.cellSize*l-this.tolerance&&h.y<=this.cellSize*l+this.tolerance;if(f){var b=h.clone().subtract(d(this.cellSize*s,this.cellSize*l));if(this.mergeCellPass(e,a,b,t),f)return f}}}},s.getCellNeighbor=function(e,t,r,i){var n=e.row,o=e.col;if(!(n+t>=0&&n+t<this.numberCell&&o+r>=0&&o+r<this.numberCell))return null;var s=this._board[n+t][o+r];return s?i.find((function(e){return e===s}))?null:s:null},s.mergeCellPass=function(e,t,r,i){C.emit(z);var n=this._mergeCells.find((function(t){return t.find((function(t){return t===e}))})),s=this._mergeCells.find((function(e){return e.find((function(e){return e===t}))}));if(n&&s){s.push.apply(s,n);for(var l=0;l<this._mergeCells.length;l++)this._mergeCells[l]==n&&(this._mergeCells[l]=[]);s.forEach((function(e){return e.node.setSiblingIndex(-1)}));for(var a,u=o(i);!(a=u()).done;){var c=a.value;c.node.position=c.node.position.clone().subtract(r)}s.length===this.numberCell*this.numberCell&&this.onWin()}},s.onWin=function(){this._store.curentLevel==this._store.maxLevel&&this._store.maxLevel++,this.solve(!0),C.emit(y)},s.clearBoard=function(){this.node.removeAllChildren()},s.reset=function(e,t){var r=this;this.init(e,t);for(var i=t.width,n=t.height,o=e*this.cellSize/(i>n?n:i),s=0;s<this.numberCell;s++)for(var l=0;l<this.numberCell;l++){var a=b(this.cellPrefab),u=(this.numberCell/2-s-.5)*this.cellSize,h=(this.numberCell/2-l-.5)*this.cellSize;a.position=new c(u,h),a.parent=this.node,a.name=l+"_"+s;var f=a.getComponent(w);f.name=l+"_"+s;var m=this.getAssets(s,l),p=m.maskImg,g=m.border,C=m.offsetMask,v=m.offsetBorder,_=d(u,h);f.init(_,this.avatar,p,g,C,v,s,l,this.camera,this.squareImg,this.cellSize,o),this._board[s][l]=f,this._currentBoardPos[s][l]=_,this._mergeCells[s+l*e]=[f]}setTimeout((function(){r.shuffle()}),1e3)},s.getAssets=function(e,t){var r=e,i=t;e>2&&this.numberCell>this._currentNumberCell&&(r=e-2),t>2&&this.numberCell>this._currentNumberCell&&(i=t-2);var n=this._currentNumberCell-1-r+i*this._currentNumberCell,o=this.masks[n],s=this.borders[n],l=this.offsetMasks[n],a=this.offsetBorders[n],u=this.numberCell%2==1&&t==this.numberCell-1&&e<2,c=this.numberCell%2==1&&e==this.numberCell-1&&t<2,h=this.numberCell%2==1&&t==this.numberCell-1&&e==this.numberCell-1;return u&&(o=this.oddMasks[e],s=this.oddBorders[e],l=this.offsetOddMasks[e],a=this.offsetOddBorder[e]),c&&(o=this.oddMasks[t+2],s=this.oddBorders[t+2],l=this.offsetOddMasks[t+2],a=this.offsetOddBorder[t+2]),h&&(o=this.oddMasks[this.oddMasks.length-1],s=this.oddBorders[this.oddBorders.length-1],l=this.offsetOddMasks[this.offsetOddMasks.length-1],a=this.offsetOddBorder[this.offsetOddBorder.length-1]),{maskImg:o,border:s,offsetMask:l,offsetBorder:a}},s.init=function(e,t){this.disableTouch(),this.avatar=t,this.numberCell=e,C.emit(E),this._board=[],this._currentBoardPos=[],this._mergeCells=[],this.numberCell>3&&(this.node.scale=c.ONE.clone().multiplyScalar(4/this.numberCell));for(var r=0;r<this.numberCell;r++)this._board[r]=[],this._currentBoardPos[r]=[]},s.solve=function(e){var t=this;void 0===e&&(e=!1),!this.isTest&&this.disableTouch();for(var r=0;r<this.numberCell;r++)for(var i=function(){var i=t._board[r][n],o=t._currentBoardPos[r][n];p(i.node).to(1,{position:o}).call((function(){return!t.isTest&&i.removeMaskBorder(1)})).delay(1).call((function(){return e&&C.emit(O)})).start()},n=0;n<this.numberCell;n++)i()},s.shuffle=function(){var e=this;if(this._count++,this._count%4!=0){C.emit(S);for(var t=this.numberCell/4,r=0;r<this.numberCell;r++)for(var i=function(){var i=e._board[r][n],o=g(-850*t,850*t),s=g(-500*t,500*t),l=d(o,s);p(i.node).to(.5,{position:l}).call((function(){return i.node.position=l})).start()},n=0;n<this.numberCell;n++)i();setTimeout((function(){e.shuffle()}),500)}else this.activeTouch()},s.disableTouch=function(){this.blockInput.enabled=!0},s.activeTouch=function(){this.blockInput.enabled=!1},t}(m)).prototype,"isTest",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),j=t(U.prototype,"cellSize",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 208}}),X=t(U.prototype,"numberCell",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 6}}),J=t(U.prototype,"cellPrefab",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Q=t(U.prototype,"avatar",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),Z=t(U.prototype,"offsetMasks",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),$=t(U.prototype,"offsetBorders",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ee=t(U.prototype,"offsetOddMasks",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),te=t(U.prototype,"offsetOddBorder",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),re=t(U.prototype,"masks",[D],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ie=t(U.prototype,"borders",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ne=t(U.prototype,"oddMasks",[H],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),oe=t(U.prototype,"oddBorders",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=t(U.prototype,"tolerance",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 20}}),le=t(U.prototype,"camera",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ae=t(U.prototype,"squareImg",[W],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),ue=t(U.prototype,"blockInput",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=U))||G));s._RF.pop()}}}));

System.register("chunks:///_virtual/Cell.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(e){var t,o,n,i,r,s,a,c,h,l,u,d,p,m,_,v,T,f,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,r=e.createClass},function(e){s=e.cclegacy,a=e._decorator,c=e.Node,h=e.Sprite,l=e.Vec3,u=e.Mask,d=e.UITransform,p=e.v3,m=e.tween,_=e.Color,v=e.Component},function(e){T=e.eventTarget,f=e.MOVE_CELLS,g=e.CHECK_MERGE}],execute:function(){var C,b,y,k,S,E,I;s._RF.push({},"6e243RFQRhIk4fmgAJvdi0Y","Cell",void 0);var w=a.ccclass,z=a.property;e("Cell",(C=w("Cell"),b=z(c),y=z(h),C((E=t((S=function(e){function t(){for(var t,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,n(t,"avatar",E,i(t)),n(t,"border",I,i(t)),t._camera=void 0,t._row=0,t._col=0,t._pointTouchBegan=new l,t._UITranform=void 0,t._mask=void 0,t._maskTransform=void 0,t._squareImg=void 0,t._cellSize=0,t}o(t,e);var s=t.prototype;return s.start=function(){this.node.on(c.EventType.TOUCH_START,this.onTouchBegan,this),this.node.on(c.EventType.TOUCH_MOVE,this.onTouchMove,this),this.node.on(c.EventType.TOUCH_END,this.onTouchEnd,this)},s.init=function(e,t,o,n,i,r,s,a,c,l,m,_){this._squareImg=l,this._cellSize=m,this._row=s,this._col=a;var v=this.avatar.getComponentInChildren(h);this._mask=this.node.getComponentInChildren(u),this._UITranform=this.node.getComponent(d),v.node.scale=p(_,_),this.avatar.position=e.clone().multiplyScalar(-1).subtract(i),v.spriteFrame=t,this._mask.spriteFrame=o,this._maskTransform=this._mask.node.getComponent(d),this._mask.node.position=i,this.border.spriteFrame=n,this.border.node.position=r,this._camera=c},s.removeMaskBorder=function(e){this._mask.spriteFrame=this._squareImg,this._maskTransform.setContentSize(this._cellSize+2,this._cellSize+2);var t=this.border.color;m(this.border).to(e,{color:new _(t.r,t.g,t.b,0)}).start()},s.move=function(e){this.node.position=this.node.position.clone().add(e)},s.onTouchBegan=function(e){this.node.setSiblingIndex(-1);var t=e.getLocation().toVec3();this._pointTouchBegan=this.convertScreenPosToNodePos(t)},s.onTouchMove=function(e){var t=e.getLocation().toVec3(),o=this.convertScreenPosToNodePos(t).subtract(this._pointTouchBegan);T.emit(f,this,o)},s.onTouchEnd=function(e){T.emit(g,this)},s.convertScreenPosToNodePos=function(e){var t=this._camera.screenToWorld(e);return this._UITranform.convertToNodeSpaceAR(t)},r(t,[{key:"row",get:function(){return this._row}},{key:"col",get:function(){return this._col}}]),t}(v)).prototype,"avatar",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),I=t(S.prototype,"border",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=S))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/Events.ts",["cc"],(function(E){var _,L;return{setters:[function(E){_=E.cclegacy,L=E.EventTarget}],execute:function(){_._RF.push({},"e293ensXTxPYINoHx5mq4I8","Events",void 0);E("eventTarget",new L),E("CHECK_MERGE","CHECK_MERGE"),E("MOVE_CELLS","MOVE_CELLS"),E("LEVEL_SELECT_SCREEN","LEVEL_SELECT_SCREEN"),E("HOME_SCREEN","HOME_SCREEN"),E("GAME_PLAY_SCREEN","GAME_PLAY_SCREEN"),E("LEVEL_POPUP","LEVEL_POPUP"),E("HIDE_ALL","HIDE_ALL"),E("RESET_GAME","RESET_GAME"),E("CLEAR_BOARD","CLEAR_BOARD"),E("SOLVE","SOLVE"),E("SHOW_NEXT_LEVEL","SHOW_NEXT_LEVEL"),E("SET_IMG_BY_URL","SET_IMG_BY_URL"),E("SET_LEVEL","SET_LEVEL"),E("PLAY_CLICK_SOUND","PLAY_CLICK_SOUND"),E("PLAY_ONE_CLICK_SOUND","PLAY_ONE_CLICK_SOUND"),E("PLAY_SHUFFLE_SOUND","PLAY_SHUFFLE_SOUND"),E("PLAY_TOUCH_SOUND","PLAY_TOUCH_SOUND"),E("ON_WIN","ON_WIN");_._RF.pop()}}}));

System.register("chunks:///_virtual/GameManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,r,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,a=e.Component}],execute:function(){var o;n._RF.push({},"71879wpRtFGq4Nn17pq/NyH","GameManager",void 0);var c=r.ccclass;r.property,e("GameManager",c("GameManager")(o=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var r=n.prototype;return r.start=function(){},r.update=function(e){},n}(a))||o);n._RF.pop()}}}));

System.register("chunks:///_virtual/GamePlayScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./Events.ts"],(function(t){var e,n,i,o,s,l,r,a,c,h,B,u,v,L,m,p,y,_,f,E,C;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,l=t._decorator,r=t.Node,a=t.Button,c=t.Tween},function(t){h=t.BaseUI},function(t){B=t.eventTarget,u=t.GAME_PLAY_SCREEN,v=t.SHOW_NEXT_LEVEL,L=t.SET_IMG_BY_URL,m=t.ON_WIN,p=t.RESET_GAME,y=t.PLAY_CLICK_SOUND,_=t.HOME_SCREEN,f=t.CLEAR_BOARD,E=t.LEVEL_SELECT_SCREEN,C=t.SOLVE}],execute:function(){var S,b,R,I,g,k,N,x,d,w,A;s._RF.push({},"12018lLBBlBOrhiMfFlyFZm","GamePlayScreen",void 0);var T=l.ccclass,P=l.property;t("GamePlayScreen",(S=T("GamePlayScreen"),b=P(r),R=P(r),I=P(r),g=P(r),S((x=e((N=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=t.call.apply(t,[this].concat(s))||this,i(e,"homeBtn",x,o(e)),i(e,"backBtn",d,o(e)),i(e,"solveBtn",w,o(e)),i(e,"nextLevelBtn",A,o(e)),e._isImageByURL=!1,e}n(e,t);var s=e.prototype;return s.start=function(){t.prototype.start.call(this),B.on(u,this.showPlayScreen,this),B.on(v,this.showNextLevelBtn,this),B.on(L,this.setImgByURL,this),B.on(m,this.onWin,this),B.on(p,this.onReset,this),this.homeBtn.on(a.EventType.CLICK,this.onHomeBtnClick,this),this.backBtn.on(a.EventType.CLICK,this.onBackBtnClick,this),this.solveBtn.on(a.EventType.CLICK,this.onSolveBtnClick,this),this.nextLevelBtn.on(a.EventType.CLICK,this.onNextLevelBtnClick,this),this.hide()},s.showPlayScreen=function(){this.show(),this.hideNextLevelBtn()},s.setImgByURL=function(){this._isImageByURL=!0},s.onHomeBtnClick=function(){B.emit(y),c.stopAll(),B.emit(_),B.emit(f),this.hide()},s.onBackBtnClick=function(){B.emit(y),c.stopAll(),this._isImageByURL?B.emit(_):B.emit(E),B.emit(f),this.hide()},s.onSolveBtnClick=function(){this.solveBtn.active=!1,B.emit(y),c.stopAll(),B.emit(C)},s.onNextLevelBtnClick=function(){this._store.curentLevel++,B.emit(f),B.emit(p,this._store.numberCell,this._store.avatarAssets[this._store.curentLevel-1])},s.showNextLevelBtn=function(){this._store.isImageByURL||(this.nextLevelBtn.active=!0)},s.hideNextLevelBtn=function(){this.nextLevelBtn.active=!1},s.onWin=function(){this.homeBtn.active=!1,this.solveBtn.active=!1},s.onReset=function(){this.homeBtn.active=!0,this.solveBtn.active=!0},e}(h)).prototype,"homeBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),d=e(N.prototype,"backBtn",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=e(N.prototype,"solveBtn",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=e(N.prototype,"nextLevelBtn",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=N))||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/HomeScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./Events.ts"],(function(e){var t,n,r,a,i,o,s,c,l,u,p,h,f,m,d,g,y,v,b,S,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,r=e.initializerDefineProperty,a=e.assertThisInitialized,i=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){s=e.cclegacy,c=e._decorator,l=e.Node,u=e.Button,p=e.assetManager,h=e.Texture2D,f=e.SpriteFrame,m=e.sys},function(e){d=e.BaseUI},function(e){g=e.eventTarget,y=e.HOME_SCREEN,v=e.PLAY_CLICK_SOUND,b=e.LEVEL_POPUP,S=e.LEVEL_SELECT_SCREEN,_=e.SET_IMG_BY_URL}],execute:function(){var w,E,B,L,k,C,F;s._RF.push({},"5f343OROz1BRo8awnHR+WlB","HomeScreen",void 0);var R=c.ccclass,P=c.property;e("HomeScreen",(w=R("HomeScreen"),E=P(l),B=P(l),w((C=t((k=function(e){function t(){for(var t,n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,r(t,"playBtn",C,a(t)),r(t,"bg",F,a(t)),t._background=null,t}n(t,e);var s=t.prototype;return s.start=function(){e.prototype.start.call(this),g.on(y,this.show,this),this.playBtn.on(u.EventType.CLICK,this.onPlayBtnClick,this),this.bg.on(u.EventType.CLICK,this.setFullScreen,this),this.loadSpriteFrame()},s.setFullScreen=function(){var e=i(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("setFullScreen"),!m.isMobile){e.next=16;break}if(!(t=document.getElementById("GameCanvas"))||!document.fullscreenEnabled){e.next=16;break}return e.prev=4,e.next=7,t.requestFullscreen();case 7:if(n=window.screen.orientation,!window.screen.orientation){e.next=11;break}return e.next=11,n.lock("landscape");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(4),console.warn("Fullscreen request failed: "+e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[4,13]])})));return function(){return e.apply(this,arguments)}}(),s.onPlayBtnClick=function(){if(this.setFullScreen(),g.emit(v),this._background)return g.emit(b,this._background),void(this._store.isImageByURL=!0);g.emit(S),this.hide()},s.loadSpriteFrame=function(){var e=this,t=this.getQueryParam("image");t&&p.loadRemote(t,(function(t,n){if(t)console.error("Failed to load image:",t);else{var r=new h;r.image=n;var a=new f;a.texture=r,e._background=a,g.emit(_)}}))},s.getQueryParam=function(e){return new URLSearchParams(window.location.search).get(e)},t}(d)).prototype,"playBtn",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=t(k.prototype,"bg",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=k))||L));s._RF.pop()}}}));

System.register("chunks:///_virtual/LevelPopup.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts","./BaseUI.ts"],(function(e){var t,n,i,o,r,l,u,a,s,c,p,h,f,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,u=e.Node,a=e.Button},function(e){s=e.eventTarget,c=e.LEVEL_POPUP,p=e.PLAY_TOUCH_SOUND,h=e.HIDE_ALL,f=e.RESET_GAME},function(e){v=e.BaseUI}],execute:function(){var d,b,y,L,g,P,_,m,C,T,E;r._RF.push({},"f008bTp47lE7KAG/hRTm+F8","LevelPopup",void 0);var k=l.ccclass,B=l.property;e("LevelPopup",(d=k("LevelPopup"),b=B(u),y=B(u),L=B(u),g=B(u),d((m=t((_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,i(t,"easyBtn",m,o(t)),i(t,"nomaltn",C,o(t)),i(t,"diffcultBtn",T,o(t)),i(t,"backgroundPopup",E,o(t)),t._background=void 0,t}n(t,e);var r=t.prototype;return r.start=function(){var t=this;e.prototype.start.call(this),s.on(c,this.showPopup,this),this.easyBtn.on(a.EventType.CLICK,(function(e){return t.onLevelClicked(3)}),this),this.nomaltn.on(a.EventType.CLICK,(function(e){return t.onLevelClicked(4)}),this),this.diffcultBtn.on(a.EventType.CLICK,(function(e){return t.onLevelClicked(6)}),this),this.backgroundPopup.on(u.EventType.TOUCH_START,this.hide,this),this.hide()},r.onLevelClicked=function(e){s.emit(p),this._store.numberCell=e,s.emit(h),s.emit(f,e,this._background)},r.showPopup=function(e){this._background=e,this.show()},t}(v)).prototype,"easyBtn",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=t(_.prototype,"nomaltn",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=t(_.prototype,"diffcultBtn",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),E=t(_.prototype,"backgroundPopup",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),P=_))||P));r._RF.pop()}}}));

System.register("chunks:///_virtual/LevelSelectScreen.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BaseUI.ts","./Events.ts"],(function(e){var t,n,i,r,a,o,s,c,l,g,h,u,p,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,c=e.PageView,l=e.Button,g=e.Sprite},function(e){h=e.BaseUI},function(e){u=e.eventTarget,p=e.LEVEL_SELECT_SCREEN,v=e.LEVEL_POPUP}],execute:function(){var P,f,d,_,w,C,L,I,y,x,V;a._RF.push({},"81921TxIl5LrreagIcXIt1+","LevelSelectScreen",void 0);var B=o.ccclass,b=o.property;e("LevelSelectScreen",(P=B("LevelSelectScreen"),f=b(s),d=b(s),_=b(c),w=b(s),P((I=t((L=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"nextBtn",I,r(t)),i(t,"prevBtn",y,r(t)),i(t,"pageView",x,r(t)),i(t,"content",V,r(t)),t._cards=[],t._locks=[],t._totalPages=0,t}n(t,e);var a=t.prototype;return a.start=function(){var t=this;e.prototype.start.call(this),u.on(p,this.showScreen,this),this.nextBtn.on(l.EventType.CLICK,this.goToNextPage,this),this.prevBtn.on(l.EventType.CLICK,this.goToPreviousPage,this),this._cards=this.content.getComponentsInChildren(l),this._cards.forEach((function(e){var n=e.getComponentInChildren(g),i=n.getComponentInChildren(g).node;t._locks.push(i),t._store.avatarAssets.push(n.spriteFrame)})),this.pageView.setCurrentPageIndex(0),this.prevBtn.active=!1,this._totalPages=this.pageView.getPages().length,this.pageView.node.on("page-turning",this.onPageTurned,this),this.hide()},a.onDestroy=function(){this.pageView.node.off("page-turning",this.onPageTurned,this)},a.onPageTurned=function(){var e=this.pageView.getCurrentPageIndex();this.setPagination(e)},a.setPagination=function(e){this.nextBtn.active=e<this._totalPages-1,this.prevBtn.active=e>0},a.initPageView=function(){var e=this;this._cards.forEach((function(t,n){e._locks[n].active=e._store.maxLevel<=n,t.enabled=e._store.maxLevel>n,t.node.on(l.EventType.CLICK,(function(t){return e.onLevelBtnClick(n)}),e)}))},a.showScreen=function(){this.initPageView(),this.show()},a.onLevelBtnClick=function(e){this._store.curentLevel=e+1,u.emit(v,this._store.avatarAssets[e])},a.goToNextPage=function(){var e=this.pageView.getCurrentPageIndex();e==this._totalPages-1||this.pageView.setCurrentPageIndex(e+1),this.setPagination(e+1)},a.goToPreviousPage=function(){var e=this.pageView.getCurrentPageIndex();e>0&&this.pageView.setCurrentPageIndex(e-1),this.setPagination(e-1)},t}(h)).prototype,"nextBtn",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=t(L.prototype,"prevBtn",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=t(L.prototype,"pageView",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=t(L.prototype,"content",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=L))||C));a._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./Events.ts","./BoardManager.ts","./Cell.ts","./GameManager.ts","./Utils.ts","./BaseUI.ts","./GamePlayScreen.ts","./HomeScreen.ts","./LevelPopup.ts","./LevelSelectScreen.ts","./SoundManager.ts","./Store.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Events.ts"],(function(n){var o,e,i,t,u,l,r,a,c,s,p,S,d;return{setters:[function(n){o=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,t=n.assertThisInitialized},function(n){u=n.cclegacy,l=n._decorator,r=n.AudioSource,a=n.Component},function(n){c=n.eventTarget,s=n.PLAY_CLICK_SOUND,p=n.PLAY_ONE_CLICK_SOUND,S=n.PLAY_SHUFFLE_SOUND,d=n.PLAY_TOUCH_SOUND}],execute:function(){var f,h,y,b,g,C,_,k,v,L,O;u._RF.push({},"15fe2rzU6JMG6H2Gl+/Y9uI","SoundManager",void 0);var z=l.ccclass,D=l.property;n("SoundManager",(f=z("SoundManager"),h=D(r),y=D(r),b=D(r),g=D(r),f((k=o((_=function(n){function o(){for(var o,e=arguments.length,u=new Array(e),l=0;l<e;l++)u[l]=arguments[l];return o=n.call.apply(n,[this].concat(u))||this,i(o,"clickSound",k,t(o)),i(o,"oneClickSound",v,t(o)),i(o,"shuffleSound",L,t(o)),i(o,"touchSound",O,t(o)),o}e(o,n);var u=o.prototype;return u.start=function(){c.on(s,this.playClickSound,this),c.on(p,this.playOneClickSound,this),c.on(S,this.playShuffleSound,this),c.on(d,this.playTouchSound,this)},u.playClickSound=function(){this.clickSound.play()},u.playOneClickSound=function(){this.oneClickSound.play()},u.playShuffleSound=function(){this.shuffleSound.play()},u.playTouchSound=function(){this.touchSound.play()},o}(a)).prototype,"clickSound",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=o(_.prototype,"oneClickSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=o(_.prototype,"shuffleSound",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),O=o(_.prototype,"touchSound",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),C=_))||C));u._RF.pop()}}}));

System.register("chunks:///_virtual/Store.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var t,n,s;return{setters:[function(e){t=e.createClass},function(e){n=e.cclegacy,s=e._decorator}],execute:function(){var i,r;n._RF.push({},"7ddfdSfc/5NuravYkAH98Q9","Store",void 0);var u=s.ccclass;s.property,e("default",u(((r=function(){function e(){this._avatarAssets=[],this._maxLevel=1,this._curentLevel=1,this._numberCell=6,this._isImageByURL=!1}return e.getInstance=function(){return e.instance||(e.instance=new e),e.instance},t(e,[{key:"isImageByURL",get:function(){return this._isImageByURL},set:function(e){this._isImageByURL=e}},{key:"numberCell",get:function(){return this._numberCell},set:function(e){this._numberCell=e}},{key:"avatarAssets",get:function(){return this._avatarAssets},set:function(e){this._avatarAssets=e}},{key:"maxLevel",get:function(){return this._maxLevel},set:function(e){this._maxLevel=e}},{key:"curentLevel",get:function(){return this._curentLevel},set:function(e){e>this.maxLevel&&(this._maxLevel=e),this._curentLevel=e}}]),e}()).instance=void 0,i=r))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc"],(function(t){var s;return{setters:[function(t){s=t.cclegacy}],execute:function(){s._RF.push({},"1b0f2GxQKVPA4/TRyp7Dr9A","Utils",void 0);t("DataAssets",(function(){this.maskImg=void 0,this.border=void 0,this.offsetMask=void 0,this.offsetBorder=void 0}));s._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});